<div class="container py-4">
  <h2 class="mb-4">Your Cart</h2>

  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Image</th>
        <th>Title</th>
        <th>Category</th>
        <th>Unit Price</th>
        <th>Quantity</th>
        <th>Total Price</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems">
        <td><img [src]="item.image" alt="{{ item.title }}" width="60"></td>
        <td>{{ item.title }}</td>
        <td>{{ item.category }}</td>
        <td>${{ item.price }}</td>
        <td>
          <input
            type="number"
            [(ngModel)]="item.selectedQty"
            (ngModelChange)="onQuantityChange(item, $event)"
            [min]="1"
            [max]="item.quantity"
            class="form-control"
            style="width: 80px;">
        </td>
        <td>${{ getTotalPrice(item) }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="onDelete(item)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="cartItems.length > 0" class="text-end mt-3">
    <h4>Total: <span class="text-success">${{ getCartTotal() }}</span></h4>
  </div>

  <p *ngIf="cartItems.length === 0" class="text-center text-muted">Your cart is empty.</p>
</div>
